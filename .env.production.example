# Production Environment Configuration for Video Call System

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://qnoeopnqffjhhbowepdj.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFub2VvcG5xZmZqaGhib3dlcGRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0NjMyMTUsImV4cCI6MjA3MzAzOTIxNX0.WQT0pDjihWBCOlmddLBktPvc0Q6sUXIYLGWsUK8plAU

SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFub2VvcG5xZmZqaGhib3dlcGRqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NzQ2MzIxNSwiZXhwIjoyMDczMDM5MjE1fQ.Q5SRn1NdBq7VF6GV6UBIEcmja0GTFi28ooWDRFKOabA

# NextAuth Configuration
NEXTAUTH_SECRET=your_nextauth_secret_here
NEXTAUTH_URL=https://your-domain.com

# Database Configuration (if using external database)
DATABASE_URL=postgresql://user:password@host:5432/database
DB_HOST=your-db-host.com
DB_USER=postgres
DB_PASSWORD=your_db_password
DB_NAME=medica_movil
DB_PORT=5432

# Video Call Configuration
NEXT_PUBLIC_STUN_SERVERS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302
NEXT_PUBLIC_TURN_SERVERS=turn:your-turn-server.com:3478
NEXT_PUBLIC_TURN_USERNAME=your_turn_username
NEXT_PUBLIC_TURN_PASSWORD=your_turn_password

# Security Configuration
VIDEO_CALL_RATE_LIMIT_CALLS_PER_HOUR=10
VIDEO_CALL_RATE_LIMIT_SIGNALS_PER_MINUTE=100
VIDEO_CALL_SESSION_TIMEOUT_MINUTES=60
VIDEO_CALL_MAX_CONCURRENT_CALLS=1

# Performance Configuration
NEXT_PUBLIC_ENABLE_ADAPTIVE_QUALITY=true
NEXT_PUBLIC_DEFAULT_VIDEO_QUALITY=medium
NEXT_PUBLIC_ENABLE_CONNECTION_POOLING=true
NEXT_PUBLIC_SIGNAL_BATCH_SIZE=10
NEXT_PUBLIC_SIGNAL_BATCH_TIMEOUT=100

# Monitoring Configuration
ENABLE_VIDEO_CALL_MONITORING=true
MONITORING_RETENTION_DAYS=30
NEXT_PUBLIC_ENABLE_ERROR_TRACKING=true
NEXT_PUBLIC_ENABLE_PERFORMANCE_MONITORING=true

# Logging Configuration
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
LOG_RETENTION_DAYS=30

# Redis Configuration (for rate limiting)
UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_redis_token

# Email Configuration (for notifications)
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your_smtp_user
SMTP_PASSWORD=your_smtp_password
NOTIFICATION_EMAIL=admin@your-domain.com

# CDN Configuration
NEXT_PUBLIC_CDN_URL=https://cdn.your-domain.com

# Analytics Configuration
NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID
NEXT_PUBLIC_ENABLE_ANALYTICS=true

# Feature Flags
NEXT_PUBLIC_ENABLE_VIDEO_CALLS=true
NEXT_PUBLIC_ENABLE_AUDIO_CALLS=true
NEXT_PUBLIC_ENABLE_SCREEN_SHARING=false
NEXT_PUBLIC_ENABLE_CALL_RECORDING=false

# Development/Debug Configuration (set to false in production)
NEXT_PUBLIC_DEBUG_MODE=false
NEXT_PUBLIC_ENABLE_CONSOLE_LOGS=false
NEXT_PUBLIC_ENABLE_WEBRTC_LOGS=false

# Deployment Configuration
NODE_ENV=production
PORT=3000
HOSTNAME=0.0.0.0

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Backup Configuration
BACKUP_RETENTION_DAYS=7
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# SSL Configuration
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# CORS Configuration
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# Session Configuration
SESSION_TIMEOUT=3600000  # 1 hour in milliseconds
SESSION_CLEANUP_INTERVAL=300000  # 5 minutes

# WebRTC Configuration
WEBRTC_ICE_CANDIDATE_POOL_SIZE=10
WEBRTC_BUNDLE_POLICY=max-bundle
WEBRTC_RTCP_MUX_POLICY=require

# Quality Configuration
VIDEO_QUALITY_LEVELS=low,medium,high,ultra
DEFAULT_VIDEO_BITRATE=500000
MAX_VIDEO_BITRATE=2500000
MIN_VIDEO_BITRATE=150000

# Connection Configuration
CONNECTION_TIMEOUT=30000
ICE_GATHERING_TIMEOUT=10000
SIGNALING_TIMEOUT=5000

# Monitoring Thresholds
ALERT_ERROR_RATE_THRESHOLD=0.05
ALERT_RESPONSE_TIME_THRESHOLD=2000
ALERT_CONNECTION_FAILURE_THRESHOLD=0.1

# Cleanup Configuration
CLEANUP_OLD_CALLS_DAYS=90
CLEANUP_OLD_SIGNALS_DAYS=7
CLEANUP_OLD_METRICS_DAYS=30
CLEANUP_OLD_ANALYTICS_DAYS=90
CLEANUP_OLD_ERRORS_DAYS=60